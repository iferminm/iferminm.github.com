<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cosas que AMO de Python V: Introspección de objetos - Israel Fermín Montilla</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="http://iffm.org/theme/css/pygments.css">
    <link rel="stylesheet" href="http://iffm.org/theme/css/iferminm.css">
<script type="text/javascript">
    var disqus_identifier = "cosas-que-amo-de-python-v-introspeccion-de-objetos.html";
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://iferminmblog.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
</head>
<body>
    <div id="header">
        <div id="header-logo-holder">
            <a href="http://iffm.org"><img src="http://iffm.org/theme/images/header-logo.png" alt=""></a>    
        </div>
        <div id="logo-text">
            <span><b>Israel Fermín Montilla</b></span>
            <span>Software Engineer</span>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-2">
            <div class="collapse navbar-collapse" id="nav-elements">
                <ul class="nav nav-pills nav-stacked">
                    <li><a href="http://iffm.org">Blog</a></li>
                <li><a href="/author/israel-fermin-montilla.html">About me</a></li>
                <li><a href="/pages/now.html">Now</a></li>
                </ul>
            </div>
            <div class="under-menu-ad">
                <script src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- Blog under menu -->
                <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9066997121369275" data-ad-slot="3361083144" data-ad-format="auto"></ins>
                <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
            </div>
        </div>
        <div class="col-xs-9">
            <div id="main-content" class="ckontainer"> 
<div class="article-header">
    <h1>Cosas que AMO de Python V: Introspección de objetos</h1> 
    by <a href="author/israel-fermin-montilla.html">Israel Fermín Montilla</a> on Tue 29 Nov, 2011
</div>

<p>Python, hace trivial lo que en otros lenguajes resulta complejo: la
introspección o reflexión de objetos. La reflexión o introspección de
objetos, es una técnica que permite a un programa cargar objetos que no
conoce, examinarlos y determinar sus variables de instancia y métodos
para trabajar con ellos.</p>
<p>Python nos ofrece ciertas funciones para
examinar objetos y conocer las variables y métodos que contiene. Una de
ellas ya la he mencionado en un artículo anterior, la función
<em>dir()</em>que nos devuelve todo lo que tiene expuesto el objeto que le
demos como argumento.</p>
<p>Recordemos también que, en Python, todo,
absolutamente todo, es un objeto, por lo que el argumento de la función
puede ser, literalmente, cualquier cosa. Adicionalmente, Python cuenta
con funciones para conocer de qué tipo es un objeto y si un objeto es
&quot;llamable&quot; o no, mediante las funciones <em>type()</em>y
<em>callable(),</em>también con el atributo <em>__class__</em>&nbsp;podemos conocer a
cuál clase pertenece,&nbsp;de manera que podemos llevar a cabo ciertas
acciones si un objeto es de cierto tipo, si contiene una función con
cierto nombre o incluso si alguna variable de instancia contiene cierto
valor, podemos llegar a tal nivel de detalle que podríamos evaluar si el
objeto contiene un método de nombre &quot;x&quot;, es del tipo &quot;y&quot; y tiene una
variable de instancia llamada &quot;z&quot; y tiene el valor &quot;casa&quot; y, en base a
eso, llevar a cabo cierta secuencia de acciones con ese objeto
particular. Ahora bien, hasta ahora, con Python, hemos visto que la
manera de acceder a los atributos y métodos de un objeto es, al igual
que en muchos lenguajes, de la forma
<em>objeto.atributo</em>u<em>&nbsp;objeto.función(),</em>entonces, ¿cómo puedo llamar
métodos o evaluar variables de instancia si no las conozco previamente?,
que no cunda el pánico, Python me ofrece una función para extraer
atributos de un objeto, simplemente conociendo el nombre e indicándolo
como una cadena de caracteres, la función <em>getattr()</em> a través de la
función <em>dir()</em>&nbsp;puedo obtener esa cadena de caracteres y utilizarla.
Pero, ¿qué ocurre con los métodos?, pues repito lo de siempre: <strong>en
Python, todo es un objeto</strong>, así que puedo utilizar <em>getattr()</em>para
obtener métodos también y llamarlos, tal como hicimos en un artículo
anterior. Obviamente, no puede ser todo tan caótico, usualmente se
establecen acuerdos de implementación para, posteriormente, hacer que el
programa sea capaz de manejar un dominio acotado de objetos que pueden
ser cargados de manera aleatoria, cada uno, con características
previamente conocidas pero con comportamientos totalmente diferentes,
expliquemos todo esto con un ejemplo simple, tal como hemos venido
haciendo en entradas anteriores.</p>
<p>Hagamos un ejemplo, programemos un
dispatcher (despachador) sencillo, supongamos que tengo una serie de
objetos que me interesa que, al ser recibidos, realicen cierta acción
determinada, por ejemplo, recibo un objeto y, si puede correr, que corra
sino, reviso si puede caminar y, si puede, que camine, caso contrario,
simplemente imprimo el <em>dir()</em> del objeto para ver qué puedo hacer con
él.</p>
<script src="http://pastebin.com/embed_js.php?i=fFSta6aA"></script><p>En el ejemplo, creamos tres clases muy sencillas, obviamente, en el
mundo real, las clases serán mucho más complejas. Mi clase <em>Dispatcher</em>,
será la encargada de revisar los objetos y &quot;si pueden correr&quot;, entonces
ponerlos a correr, sino, simplemente informarme qué puedo hacer con ese
objeto. Fíjense en la línea 26, que incluso puedo asegurarme de que el
atributo al que se hace referencia sea una función, lo cual me permite
evitar errores en tiempo de ejecusión al intentar invocar una cadena de
caracteres, por ejemplo, como si fuera un objeto &quot;llamable&quot;. Todo esto
es especialmente útil si estamos desarrollando herramientas que trabajan
bajo el principio de &quot;Convention over Configuration&quot;.</p>


<div class="article-footer">
    <p><span class="glyphicon glyphicon-tags" aria-hidden="true"></span> <a href="tag/lenguajes.html">Lenguajes</a> <a href="tag/programacion.html">Programación</a> <a href="tag/python.html">python</a> </p>

       <div class="social-buttoms">
            <div class="social-link">
                <a href="https://twitter.com/share" class="twitter-share-button" data-via="iferminm" data-size="large" data-dnt="true">Tweet</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
            </div>
            
            <div class="social-link">
                <div class="fb-share-button" data-href="http://iffm.org/cosas-que-amo-de-python-v-introspeccion-de-objetos.html" data-layout="button"></div>
                <div id="fb-root"></div>
                <script>
                    (function(d, s, id) {
                        var js, fjs = d.getElementsByTagName(s)[0];
                        if (d.getElementById(id)) return;
                        js = d.createElement(s); js.id = id;
                        js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.5&appId=457325330963820";
                        fjs.parentNode.insertBefore(js, fjs);
                    }(document, 'script', 'facebook-jssdk'));
                </script>
            </div>
        </div>

    <p>Thank you for reading!, don't forget to subscribe to my mailing list!, I don't send any spam and sometimes I do share interesting stuff</p>


<!-- Begin MailChimp Signup Form -->
    <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
    <style type="text/css">
        #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
        /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
           We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
    </style>
    <div id="mc_embed_signup">
    <form action="//iferminmontilla.us11.list-manage.com/subscribe/post?u=0d4b15ef6a90baa460d821dbc&amp;id=8b51ac80b2" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
        
    <div class="mc-field-group">
        <label for="mce-EMAIL">Email Address </label>
        <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
    </div>
        <div id="mce-responses" class="clear">
            <div class="response" id="mce-error-response" style="display:none"></div>
            <div class="response" id="mce-success-response" style="display:none"></div>
        </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_0d4b15ef6a90baa460d821dbc_8b51ac80b2" tabindex="-1" value=""></div>
        <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
        </div>
    </form>
    </div>
    <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
    <!--End mc_embed_signup-->

</div>

<div id="disqus_thread"></div>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-8">
                    Created by <a href="http://iffm.org">Israel Fermín Montilla</a> using <a href="http://getpelican.com" target="_blank">Pelican</a> and <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>.
                    All content here is under <a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en_US" target="_blank">Attribution-ShareAlike 3.0 Unported</a> license. Logo designed by <a href="https://about.me/andresfermin" target="_blank">Andrés Fermín</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Latest compiled and minified JavaScript -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

    <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
           (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       ga('create', 'UA-55459920-1', 'auto');
       ga('send', 'pageview');
    </script>

</body>
</html>
