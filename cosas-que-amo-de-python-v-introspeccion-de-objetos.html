<!DOCTYPE html>
<html lang="es">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="http://iferminmontilla.com/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="http://iferminmontilla.com/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="http://iferminmontilla.com/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Israel Fermín Montilla">
  <meta name="description" content="Posts and writings by Israel Fermín Montilla">

  <link href="http://iferminmontilla.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="@#$%_ Atom" />

<meta name="keywords" content="Lenguajes, Programación, python">

  <title>
    @#$%_
&ndash; Cosas que AMO de Python V: Introspección de objetos  </title>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-55459920-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="http://iferminmontilla.com">
        <img src="http://www.gravatar.com/avatar/d380e571e1a0012794af170fe48a5e65.png" alt="logo">
      </a>
      <h2><a href="http://iferminmontilla.com">Israel Fermín Montilla</a></h2>
      <p>Programación y cuestiones humanas</p>
      <ul>
        <li><a href="http://twitter.com/iferminm" target="_blank">Twitter</a></li>
        <li><a href="http://www.linkedin.com/profile/view?id=66587805&trk=tab_pro" target="_blank">LinkedIn</a></li>
        <li><a href="http://stackoverflow.com/users/1157389/israelord" target="_blank">StackOverflow</a></li>
        <li><a href="https://github.com/iferminm" target="_blank">GitHub</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="http://iferminmontilla.com">Index</a> &brvbar; <a href="http://iferminmontilla.com/archives.html">Archives</a>
      &brvbar; <a href="http://iferminmontilla.com/feeds/all.atom.xml">Atom</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h3><a href="http://iferminmontilla.com/cosas-que-amo-de-python-v-introspeccion-de-objetos.html">Cosas que AMO de Python V: Introspección de objetos</a></h3>
  </div>
  <div class="article_text">
    <p>Python, hace trivial lo que en otros lenguajes resulta complejo: la
introspección o reflexión de objetos. La reflexión o introspección de
objetos, es una técnica que permite a un programa cargar objetos que no
conoce, examinarlos y determinar sus variables de instancia y métodos
para trabajar con ellos.</p>
<p>Python nos ofrece ciertas funciones para
examinar objetos y conocer las variables y métodos que contiene. Una de
ellas ya la he mencionado en un artículo anterior, la función
<em>dir()</em>que nos devuelve todo lo que tiene expuesto el objeto que le
demos como argumento.</p>
<p>Recordemos también que, en Python, todo,
absolutamente todo, es un objeto, por lo que el argumento de la función
puede ser, literalmente, cualquier cosa. Adicionalmente, Python cuenta
con funciones para conocer de qué tipo es un objeto y si un objeto es
&quot;llamable&quot; o no, mediante las funciones <em>type()</em>y
<em>callable(),</em>también con el atributo <em>__class__</em>&nbsp;podemos conocer a
cuál clase pertenece,&nbsp;de manera que podemos llevar a cabo ciertas
acciones si un objeto es de cierto tipo, si contiene una función con
cierto nombre o incluso si alguna variable de instancia contiene cierto
valor, podemos llegar a tal nivel de detalle que podríamos evaluar si el
objeto contiene un método de nombre &quot;x&quot;, es del tipo &quot;y&quot; y tiene una
variable de instancia llamada &quot;z&quot; y tiene el valor &quot;casa&quot; y, en base a
eso, llevar a cabo cierta secuencia de acciones con ese objeto
particular. Ahora bien, hasta ahora, con Python, hemos visto que la
manera de acceder a los atributos y métodos de un objeto es, al igual
que en muchos lenguajes, de la forma
<em>objeto.atributo</em>u<em>&nbsp;objeto.función(),</em>entonces, ¿cómo puedo llamar
métodos o evaluar variables de instancia si no las conozco previamente?,
que no cunda el pánico, Python me ofrece una función para extraer
atributos de un objeto, simplemente conociendo el nombre e indicándolo
como una cadena de caracteres, la función <em>getattr()</em> a través de la
función <em>dir()</em>&nbsp;puedo obtener esa cadena de caracteres y utilizarla.
Pero, ¿qué ocurre con los métodos?, pues repito lo de siempre: <strong>en
Python, todo es un objeto</strong>, así que puedo utilizar <em>getattr()</em>para
obtener métodos también y llamarlos, tal como hicimos en un artículo
anterior. Obviamente, no puede ser todo tan caótico, usualmente se
establecen acuerdos de implementación para, posteriormente, hacer que el
programa sea capaz de manejar un dominio acotado de objetos que pueden
ser cargados de manera aleatoria, cada uno, con características
previamente conocidas pero con comportamientos totalmente diferentes,
expliquemos todo esto con un ejemplo simple, tal como hemos venido
haciendo en entradas anteriores.</p>
<p>Hagamos un ejemplo, programemos un
dispatcher (despachador) sencillo, supongamos que tengo una serie de
objetos que me interesa que, al ser recibidos, realicen cierta acción
determinada, por ejemplo, recibo un objeto y, si puede correr, que corra
sino, reviso si puede caminar y, si puede, que camine, caso contrario,
simplemente imprimo el <em>dir()</em> del objeto para ver qué puedo hacer con
él.</p>
<script src="http://pastebin.com/embed_js.php?i=fFSta6aA"></script><p>En el ejemplo, creamos tres clases muy sencillas, obviamente, en el
mundo real, las clases serán mucho más complejas. Mi clase <em>Dispatcher</em>,
será la encargada de revisar los objetos y &quot;si pueden correr&quot;, entonces
ponerlos a correr, sino, simplemente informarme qué puedo hacer con ese
objeto. Fíjense en la línea 26, que incluso puedo asegurarme de que el
atributo al que se hace referencia sea una función, lo cual me permite
evitar errores en tiempo de ejecusión al intentar invocar una cadena de
caracteres, por ejemplo, como si fuera un objeto &quot;llamable&quot;. Todo esto
es especialmente útil si estamos desarrollando herramientas que trabajan
bajo el principio de &quot;Convention over Configuration&quot;.</p>

  </div>
  <div class="article_meta">
    <p>Posted on: Tue 29 November 2011</p>
    <p>Category: <a href="http://iferminmontilla.com/category/blog.html">Blog</a>
 &ndash; Tags:
      <a href="http://iferminmontilla.com/tag/lenguajes.html">Lenguajes</a>,      <a href="http://iferminmontilla.com/tag/programacion.html">Programación</a>,      <a href="http://iferminmontilla.com/tag/python.html">python</a>    </p>
  </div>

  <div id="article_comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_identifier = "cosas-que-amo-de-python-v-introspeccion-de-objetos.html";
        (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = 'http://iferminmblog.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
    </script>
  </div>

</article>


    <div id="ending_message">
      <p>&copy; Israel Fermín Montilla. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. Member of the <a href="http://internetdefenseleague.org">Internet Defense League</a>.</p>
    </div>
  </main>
<script type="text/javascript">
  window._idl = {};
  _idl.variant = "banner";
  (function() {
    var idl = document.createElement('script');
    idl.type = 'text/javascript';
    idl.async = true;
    idl.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'members.internetdefenseleague.org/include/?url=' + (_idl.url || '') + '&campaign=' + (_idl.campaign || '') + '&variant=' + (_idl.variant || 'banner');
    document.getElementsByTagName('body')[0].appendChild(idl);
  })();
</script>
</body>
</html>